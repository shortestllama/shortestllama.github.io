<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>{{ page.title }}</title>
    <link rel="stylesheet" href="/assets/css/styles.css">
    {% feed_meta %}
    {% seo %}
  </head>
  <body>
    <div class="wrapper">
      {% include navigation.html %}
      <main class="content">
        {{ content }}
      </main>
    </div>
    <script>
      // Apply saved theme on load
      (function () {
        const savedTheme = localStorage.getItem("theme") || "light-mode";
        document.body.classList.add(savedTheme);
      })();

      // Set up toggle logic
      document.addEventListener("DOMContentLoaded", function () {
        const toggle = document.getElementById("toggle-theme");
        toggle.addEventListener("click", function () {
          const body = document.body;
          const newTheme = body.classList.contains("dark-mode") ? "light-mode" : "dark-mode";
          body.classList.remove("light-mode", "dark-mode");
          body.classList.add(newTheme);
          localStorage.setItem("theme", newTheme);
        });
      });
    </script>
  </body>
</html>
